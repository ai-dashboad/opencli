# OpenCLI Personal Mode - Default Configuration
# 此配置自动生成，个人用户无需修改即可使用
# This configuration is auto-generated, personal users can use it without modification

# 运行模式
mode: personal

# 守护进程配置
daemon:
  name: "OpenCLI Personal"
  auto_start: true  # 开机自动启动
  system_tray: true  # 显示系统托盘图标
  log_level: info

# 数据存储 - 自动使用本地 SQLite
database:
  type: sqlite
  path: ~/.opencli/data/opencli.db
  auto_backup: true  # 自动备份
  backup_interval: daily  # 每日备份
  backup_retention: 7  # 保留7天

# 文件存储
storage:
  type: local
  base_path: ~/.opencli/storage
  max_file_size: 100MB  # 单文件最大100MB
  auto_cleanup: true  # 自动清理
  cleanup_days: 30  # 保留30天

# 移动端连接
mobile:
  enabled: true
  port: 8765  # 如果端口被占用会自动选择其他端口
  auto_discovery: true  # 启用 mDNS 自动发现
  discovery_name: "${HOSTNAME}-OpenCLI"  # 自动使用主机名

  # 安全配置
  security:
    pairing_required: true  # 需要配对
    pairing_timeout: 300  # 配对码5分钟过期
    auto_trust_local: true  # 信任本地网络设备
    max_devices: 5  # 最多5个设备

  # WebSocket 配置
  websocket:
    heartbeat_interval: 30  # 心跳间隔（秒）
    reconnect_interval: 5  # 重连间隔（秒）
    max_reconnect: 10  # 最大重连次数

# 桌面自动化（默认启用）
automation:
  desktop:
    enabled: true
    screenshot: true  # 允许截图
    screen_recording: false  # 默认不允许录屏（隐私保护）
    keyboard_input: true  # 允许键盘输入
    mouse_input: true  # 允许鼠标控制

  # 应用控制
  apps:
    enabled: true
    whitelist: []  # 空列表表示允许所有
    blacklist: []  # 可以添加不允许控制的应用

  # 文件操作
  files:
    enabled: true
    allowed_paths:  # 允许访问的路径
      - ~/Desktop
      - ~/Documents
      - ~/Downloads
    restricted_paths:  # 限制访问的路径
      - ~/.ssh
      - ~/.*  # 隐藏文件夹需要额外确认

# 浏览器自动化（默认禁用，需要时开启）
browser:
  enabled: false  # 需要手动开启
  driver: auto  # 自动检测 (chrome/firefox/safari)
  headless: false  # 默认显示浏览器窗口

# AI 功能（默认禁用，需要配置后启用）
ai:
  enabled: false  # 默认关闭
  # 配置示例（取消注释后启用）：
  # providers:
  #   - name: local  # 本地模型（免费）
  #     type: ollama
  #     model: llama2
  #   - name: openai  # 或使用云服务
  #     api_key: ${OPENAI_API_KEY}
  #     model: gpt-4

# 通知设置
notifications:
  # 桌面通知
  desktop:
    enabled: true
    level: info  # 通知级别：all, info, warn, error

  # 手机通知（通过 WebSocket）
  mobile:
    enabled: true
    push_notifications: false  # FCM/APNs 推送（需要配置）

# 任务调度（默认禁用，按需启用）
scheduler:
  enabled: false  # 需要时再启用
  # 启用后可以设置定时任务

# 备份设置
backup:
  enabled: true
  auto_backup: true
  schedule: "0 2 * * *"  # 每天凌晨2点
  retention_days: 7  # 保留7天
  compression: true  # 压缩备份

# 日志设置
logging:
  level: info  # debug, info, warn, error
  console: false  # 不在控制台显示（后台运行）
  file: true  # 记录到文件
  file_path: ~/.opencli/logs/opencli.log
  rotation: daily  # 日志轮转
  max_size: 10MB  # 单文件最大大小
  retention: 7  # 保留7天

# 监控设置
monitoring:
  enabled: false  # 个人用户默认不需要
  metrics: false  # 不收集性能指标

# 安全设置
security:
  # 认证（个人模式使用简化认证）
  authentication:
    type: simple  # 简单模式（企业模式用 advanced）
    session_timeout: 24h  # 会话超时

  # 访问控制
  access_control:
    require_confirmation:  # 需要确认的操作
      - delete_file  # 删除文件
      - install_app  # 安装应用
      - system_command  # 系统命令

  # 审计日志
  audit_log:
    enabled: true
    retention_days: 30

# 性能设置
performance:
  max_concurrent_tasks: 5  # 最多同时5个任务
  task_timeout: 300  # 任务超时（秒）
  memory_limit: 500MB  # 内存限制

# 网络设置
network:
  # 本地网络优先
  prefer_local: true
  # 云中转（可选，需要账号）
  cloud_bridge:
    enabled: false  # 默认不使用云中转
    # url: https://bridge.opencli.dev  # 云中转服务器
    # token: ""  # 账号 token

# UI 设置
ui:
  language: auto  # 自动检测（zh-CN, en-US, ja-JP）
  theme: auto  # 自动跟随系统（light, dark, auto）

  # 系统托盘
  tray:
    enabled: true
    start_minimized: false  # 启动时不最小化
    close_to_tray: true  # 关闭窗口时最小化到托盘

  # 快捷键
  shortcuts:
    show_window: "Ctrl+Shift+O"  # 显示主窗口
    screenshot: "Ctrl+Shift+S"  # 快速截图
    voice_command: "Ctrl+Shift+V"  # 语音命令

# 更新设置
updates:
  auto_check: true  # 自动检查更新
  auto_download: true  # 自动下载更新
  auto_install: false  # 不自动安装（需手动确认）
  channel: stable  # 更新渠道：stable, beta, dev

# 隐私设置
privacy:
  analytics: false  # 不发送分析数据
  crash_reports: true  # 发送崩溃报告（帮助改进）
  usage_stats: false  # 不收集使用统计

# 实验性功能
experimental:
  enabled: false  # 不启用实验性功能
  # features: []  # 实验性功能列表

# 插件（默认不启用）
plugins:
  enabled: false
  auto_load: false
  # directory: ~/.opencli/plugins

# ============================================
# 高级选项（一般用户无需修改）
# ============================================

# IPC 通信
ipc:
  socket_path: ~/.opencli/opencli.sock
  timeout: 30

# 缓存设置
cache:
  enabled: true
  type: memory
  max_size: 100MB
  ttl: 3600  # 1小时

# 消息队列（个人用户默认不需要）
message_queue:
  enabled: false
  type: memory

# ============================================
# 说明
# ============================================

# 此配置文件在首次启动时自动生成
# 个人用户无需任何修改即可使用基础功能
#
# 如需启用高级功能：
# 1. AI 助手：修改 ai.enabled = true 并配置 providers
# 2. 浏览器自动化：修改 browser.enabled = true
# 3. 任务调度：修改 scheduler.enabled = true
# 4. 云中转：修改 network.cloud_bridge.enabled = true
#
# 配置文件位置：~/.opencli/config.yaml
# 托盘菜单中点击"设置"可以图形化修改配置
