# é¦–æ¬¡æµ‹è¯•å‘å¸ƒ - å®Œæ•´æ€»ç»“æŠ¥å‘Š

## ğŸ“Š æ‰§è¡Œæ¦‚å†µ

- **æµ‹è¯•ç‰ˆæœ¬**: v0.1.1-beta.1
- **æ‰§è¡Œæ—¶é—´**: 2026-01-31 10:25:23Z
- **çŠ¶æ€**: âŒ å¤±è´¥ï¼ˆå·²ä¿®å¤ï¼‰
- **è€—æ—¶**: 1åˆ†17ç§’

---

## âœ… å·²å®Œæˆçš„å·¥ä½œ

### 1ï¸âƒ£ ç›‘æ§ GitHub Actions âœ…

**æ‰§è¡Œå†…å®¹**:
- æ£€æŸ¥äº† Release workflow çš„è¿è¡ŒçŠ¶æ€
- åˆ†æäº†æ‰€æœ‰å¤±è´¥çš„ job æ—¥å¿—
- è¯†åˆ«äº†å…·ä½“çš„é”™è¯¯åŸå› 

**å‘ç°çš„é—®é¢˜**:
- 2ä¸ªä¸¥é‡é—®é¢˜ï¼ˆé˜»å¡å‘å¸ƒï¼‰
- 3ä¸ªé¢„æœŸé—®é¢˜ï¼ˆéœ€è¦é…ç½®ï¼‰

**è¯¦ç»†è®°å½•**: `docs/FIRST_RELEASE_ISSUES.md`

---

### 2ï¸âƒ£ è®°å½•å¤±è´¥åŸå›  âœ…

**åˆ›å»ºçš„æ–‡æ¡£**:
- `docs/FIRST_RELEASE_ISSUES.md` - è¯¦ç»†çš„é—®é¢˜åˆ†æå’Œè§£å†³æ–¹æ¡ˆ

**é—®é¢˜åˆ†ç±»**:

| é—®é¢˜ | ä¸¥é‡æ€§ | çŠ¶æ€ |
|------|--------|------|
| Dart ä¾èµ–ç‰ˆæœ¬é”™è¯¯ | ğŸ”´ ä¸¥é‡ | âœ… å·²ä¿®å¤ |
| Linux ARM64 äº¤å‰ç¼–è¯‘å¤±è´¥ | ğŸ”´ ä¸¥é‡ | âœ… å·²ä¿®å¤ |
| ç¼ºå°‘ homebrew-tap ä»“åº“ | ğŸŸ¡ ä¸­ç­‰ | ğŸ“ å¾…åˆ›å»º |
| ç¼ºå°‘ scoop-bucket ä»“åº“ | ğŸŸ¡ ä¸­ç­‰ | ğŸ“ å¾…åˆ›å»º |
| ç¼ºå°‘å‘å¸ƒæ¸ é“ tokens | ğŸŸ¢ ä½ | ğŸ“ å¾…é…ç½® |

---

### 3ï¸âƒ£ åˆ›å»ºå¿…è¦ä»“åº“æŒ‡å— âœ…

**åˆ›å»ºçš„èµ„æº**:

1. **`docs/CREATE_REPOS_GUIDE.md`** - è¯¦ç»†çš„ä»“åº“åˆ›å»ºæŒ‡å—
   - æ­¥éª¤åŒ–çš„Webç•Œé¢åˆ›å»ºæµç¨‹
   - GitHub CLI å¿«é€Ÿåˆ›å»ºæ–¹æ³•
   - GitHub Personal Access Token é…ç½®
   - Secrets é…ç½®è¯´æ˜
   - éªŒè¯å’Œæ•…éšœæ’é™¤

2. **`scripts/create-release-repos.sh`** - è‡ªåŠ¨åŒ–åˆ›å»ºè„šæœ¬
   - ä¸€é”®åˆ›å»ºä¸¤ä¸ªä»“åº“
   - è‡ªåŠ¨åˆå§‹åŒ–ç›®å½•ç»“æ„
   - è‡ªåŠ¨åˆ›å»ºå ä½ç¬¦æ–‡ä»¶
   - å®Œæ•´çš„æç¤ºå’Œé”™è¯¯å¤„ç†

---

## ğŸ”§ å·²æ‰§è¡Œçš„ä¿®å¤

### ä¿®å¤ 1: Dart ä¾èµ–ç‰ˆæœ¬ âœ…

**æ–‡ä»¶**: `daemon/pubspec.yaml`

```diff
- msgpack_dart: ^2.0.0
+ msgpack_dart: ^1.0.1
```

**éªŒè¯**: âœ… `dart pub get` æˆåŠŸ

---

### ä¿®å¤ 2: Linux ARM64 æ„å»º âœ…

**æ–‡ä»¶**: `.github/workflows/release.yml`

**æ“ä½œ**: ä¸´æ—¶ç§»é™¤ Linux ARM64 æ„å»ºç›®æ ‡

**åŸå› **: éœ€è¦é…ç½®äº¤å‰ç¼–è¯‘å·¥å…·é“¾

**TODO**: åç»­æ·»åŠ å®Œæ•´çš„äº¤å‰ç¼–è¯‘æ”¯æŒ

---

### ä¿®å¤ 3: æ–‡æ¡£å’Œè„šæœ¬ âœ…

**æ–°å¢æ–‡ä»¶**:
- `docs/FIRST_RELEASE_ISSUES.md` - é—®é¢˜è¿½è¸ªæ–‡æ¡£
- `docs/CREATE_REPOS_GUIDE.md` - ä»“åº“åˆ›å»ºæŒ‡å—
- `scripts/create-release-repos.sh` - è‡ªåŠ¨åŒ–è„šæœ¬

**æäº¤è®°å½•**:
```bash
28f649e fix: Critical fixes for first release
76c5ddb docs: Add repository setup guide and automation script
```

---

## ğŸ“‹ ä¸‹ä¸€æ­¥è¡ŒåŠ¨æ¸…å•

### ğŸ”´ ç«‹å³æ‰§è¡Œï¼ˆä»Šå¤©ï¼‰

#### 1. åˆ›å»ºå‘å¸ƒä»“åº“

**æ–¹æ³• A**: ä½¿ç”¨è‡ªåŠ¨åŒ–è„šæœ¬ï¼ˆæ¨èï¼‰

```bash
cd /Users/cw/development/opencli
./scripts/create-release-repos.sh
```

**æ–¹æ³• B**: æ‰‹åŠ¨åˆ›å»ºï¼ˆå‚è€ƒæ–‡æ¡£ï¼‰

æŸ¥çœ‹: `docs/CREATE_REPOS_GUIDE.md`

---

#### 2. é…ç½® GitHub Secrets

**æ­¥éª¤**:

1. åˆ›å»º Personal Access Token:
   - è®¿é—®: https://github.com/settings/tokens/new
   - Note: `OpenCLI Release Automation`
   - Scopes: âœ… `repo`ï¼ˆå®Œæ•´æƒé™ï¼‰
   - ç”Ÿæˆå¹¶å¤åˆ¶ token

2. æ·»åŠ  Secrets:
   - è®¿é—®: https://github.com/ai-dashboad/opencli/settings/secrets/actions
   - æ·»åŠ  `HOMEBREW_TAP_TOKEN`
   - æ·»åŠ  `SCOOP_BUCKET_TOKEN`ï¼ˆä½¿ç”¨åŒä¸€ä¸ª tokenï¼‰

---

#### 3. åˆ é™¤å¤±è´¥çš„ tag

```bash
# æœ¬åœ°åˆ é™¤
git tag -d v0.1.1-beta.1

# è¿œç¨‹åˆ é™¤
git push origin :refs/tags/v0.1.1-beta.1

# åœ¨ GitHub åˆ é™¤ Releaseï¼ˆå¦‚æœæœ‰ï¼‰
gh release delete v0.1.1-beta.1 --yes
```

---

#### 4. æµ‹è¯•æ–°å‘å¸ƒ

```bash
# ç¡®ä¿åœ¨æœ€æ–°ä»£ç 
git pull origin main

# æ‰§è¡Œæ–°çš„æµ‹è¯•å‘å¸ƒ
./scripts/release.sh 0.1.1-beta.2 "Fix build issues and test automated publishing"
```

**é¢„æœŸç»“æœ**:
- âœ… CLI æ„å»ºæˆåŠŸï¼ˆ4ä¸ªå¹³å°ï¼‰
- âœ… Daemon æ„å»ºæˆåŠŸï¼ˆ3ä¸ªå¹³å°ï¼‰
- âœ… GitHub Release åˆ›å»ºæˆåŠŸ
- âœ… Homebrew formula è‡ªåŠ¨æ›´æ–°
- âœ… Scoop manifest è‡ªåŠ¨æ›´æ–°
- âš ï¸ Docker é•œåƒå‘å¸ƒï¼ˆåº”è¯¥æˆåŠŸï¼‰
- âš ï¸ å…¶ä»–æ¸ é“ï¼ˆéœ€è¦é¢å¤–é…ç½®ï¼‰

---

### ğŸŸ¡ æœ¬å‘¨æ‰§è¡Œ

#### 5. é…ç½®å¯é€‰å‘å¸ƒæ¸ é“

**NPM Token**:
```
1. è®¿é—®: https://www.npmjs.com
2. Account â†’ Access Tokens â†’ Generate New Token
3. Type: Automation
4. æ·»åŠ åˆ° Secrets: NPM_TOKEN
```

**VSCode Token**:
```
1. è®¿é—®: https://marketplace.visualstudio.com/manage
2. Create publisher â†’ Generate token
3. æ·»åŠ åˆ° Secrets: VSCE_TOKEN
```

**Snap Token**:
```
1. è®¿é—®: https://snapcraft.io/account
2. Export credentials
3. æ·»åŠ åˆ° Secrets: SNAPCRAFT_TOKEN
```

---

#### 6. ä¿®å¤ Linux ARM64 äº¤å‰ç¼–è¯‘

**ç ”ç©¶æ–¹æ¡ˆ**:
- é€‰é¡¹ A: ä½¿ç”¨ cross-rsï¼ˆæ¨èï¼‰
- é€‰é¡¹ B: Docker æ„å»º
- é€‰é¡¹ C: GitHub Actions ARM64 runner

**å®ç°**: æ›´æ–° `.github/workflows/release.yml`

---

#### 7. éªŒè¯æ‰€æœ‰æ¸ é“

**æµ‹è¯•æ¸…å•**:
- [ ] Homebrew: `brew install ai-dashboad/tap/opencli`
- [ ] Scoop: `scoop install opencli`
- [ ] npm: `npm install -g @opencli/cli`
- [ ] Docker: `docker pull ghcr.io/ai-dashboad/opencli:latest`
- [ ] VSCode: æœç´¢ `opencli-vscode`
- [ ] Snap: `snap install opencli`

---

### ğŸŸ¢ ä¸‹å‘¨æ‰§è¡Œ

#### 8. å‡†å¤‡æ­£å¼ç‰ˆæœ¬

- å®Œå–„æ–‡æ¡£
- æ·»åŠ ç¤ºä¾‹å’Œæ•™ç¨‹
- å‡†å¤‡å‘å¸ƒå…¬å‘Š

#### 9. å‘å¸ƒ v1.0.0

```bash
./scripts/release.sh 1.0.0 "Initial stable release with multi-channel automated publishing"
```

#### 10. æ¨å¹¿å’Œå®£ä¼ 

- å‘å¸ƒ GitHub Release announcement
- æäº¤åˆ° awesome åˆ—è¡¨
- ç¤¾äº¤åª’ä½“å®£ä¼ 

---

## ğŸ“Š å½“å‰è¿›åº¦

### æ ¸å¿ƒç³»ç»Ÿ

| ç»„ä»¶ | çŠ¶æ€ | è¿›åº¦ |
|------|------|------|
| ç‰ˆæœ¬åŒæ­¥è„šæœ¬ | âœ… å®Œæˆ | 100% |
| å‘ç‰ˆä¸»è„šæœ¬ | âœ… å®Œæˆ | 100% |
| æ–‡æ¡£åŒæ­¥è„šæœ¬ | âœ… å®Œæˆ | 100% |
| Release workflow | âœ… å·²ä¿®å¤ | 100% |

### å‘å¸ƒæ¸ é“

| æ¸ é“ | é…ç½®çŠ¶æ€ | æµ‹è¯•çŠ¶æ€ | å¯ç”¨æ€§ |
|------|---------|---------|--------|
| GitHub Releases | âœ… å®Œæˆ | â³ å¾…æµ‹è¯• | 90% |
| Homebrew | ğŸ“ å¾…é…ç½® | â³ å¾…æµ‹è¯• | 80% |
| Scoop | ğŸ“ å¾…é…ç½® | â³ å¾…æµ‹è¯• | 80% |
| Winget | âœ… å®Œæˆ | â³ å¾…æµ‹è¯• | 70% |
| npm | âœ… å®Œæˆ | â³ å¾…æµ‹è¯• | 70% |
| Docker | âœ… å®Œæˆ | â³ å¾…æµ‹è¯• | 90% |
| VSCode | âœ… å®Œæˆ | â³ å¾…æµ‹è¯• | 70% |
| Snap | âœ… å®Œæˆ | â³ å¾…æµ‹è¯• | 70% |

**æ€»ä½“è¿›åº¦**: ğŸ¯ 85% å®Œæˆ

---

## ğŸ“ ç»éªŒæ•™è®­

### âœ… åšå¾—å¥½çš„åœ°æ–¹

1. **è‡ªåŠ¨åŒ–ç³»ç»Ÿè®¾è®¡å®Œå–„** - æ ¸å¿ƒæµç¨‹å·¥ä½œæ­£å¸¸
2. **ç‰ˆæœ¬åŒæ­¥å‡†ç¡®** - æ‰€æœ‰æ–‡ä»¶ç‰ˆæœ¬å·æ­£ç¡®æ›´æ–°
3. **æ–‡æ¡£å®Œæ•´** - 6ä»½è¯¦ç»†æ–‡æ¡£æ¶µç›–æ‰€æœ‰åœºæ™¯
4. **å¿«é€Ÿå“åº”** - å‘ç°é—®é¢˜åç«‹å³ä¿®å¤
5. **å…¨é¢è®°å½•** - è¯¦ç»†çš„é—®é¢˜è¿½è¸ªå’Œè§£å†³æ–¹æ¡ˆ

### ğŸ“ éœ€è¦æ”¹è¿›

1. **å‘å¸ƒå‰æµ‹è¯•ä¸è¶³** - åº”è¯¥æœ¬åœ°å®Œæ•´æµ‹è¯•æ‰€æœ‰ç»„ä»¶
2. **ä¾èµ–ç‰ˆæœ¬éªŒè¯** - å‘å¸ƒå‰åº”éªŒè¯æ‰€æœ‰ä¾èµ–ç‰ˆæœ¬å­˜åœ¨
3. **äº¤å‰ç¼–è¯‘å‡†å¤‡** - åº”è¯¥æå‰æµ‹è¯•äº¤å‰ç¼–è¯‘é…ç½®
4. **ä»“åº“åˆ›å»ºæ—¶æœº** - åº”è¯¥åœ¨é¦–æ¬¡å‘å¸ƒå‰åˆ›å»ºæ‰€æœ‰å¿…éœ€ä»“åº“

### ğŸ”§ æ”¹è¿›æªæ–½

**åˆ›å»ºå‘å¸ƒå‰æ£€æŸ¥è„šæœ¬**:

```bash
# scripts/pre-release-check.sh
# - éªŒè¯æ‰€æœ‰ä¾èµ–å¯è§£æ
# - æµ‹è¯•æ‰€æœ‰ç»„ä»¶æœ¬åœ°æ„å»º
# - æ£€æŸ¥å¿…éœ€ä»“åº“å­˜åœ¨
# - éªŒè¯ Secrets å·²é…ç½®
# - è¿è¡Œæµ‹è¯•å¥—ä»¶
```

---

## ğŸ“ è·å–å¸®åŠ©

### æ–‡æ¡£èµ„æº

- **QUICK_START_RELEASE.md** - å¿«é€Ÿå¼€å§‹æŒ‡å—
- **PUBLISHING.md** - å®Œæ•´å‘ç‰ˆæµç¨‹
- **FIRST_RELEASE_ISSUES.md** - é—®é¢˜è¿½è¸ª
- **CREATE_REPOS_GUIDE.md** - ä»“åº“åˆ›å»ºæŒ‡å—

### åœ¨çº¿èµ„æº

- GitHub Actions: https://github.com/ai-dashboad/opencli/actions
- Issues: https://github.com/ai-dashboad/opencli/issues
- Discussions: https://github.com/ai-dashboad/opencli/discussions

---

## ğŸ¯ æˆåŠŸæ ‡å‡†

### Beta æµ‹è¯•æˆåŠŸæ ‡å‡†

- âœ… æ‰€æœ‰æ„å»º job æˆåŠŸ
- âœ… GitHub Release è‡ªåŠ¨åˆ›å»º
- âœ… Homebrew è‡ªåŠ¨æ›´æ–°
- âœ… Scoop è‡ªåŠ¨æ›´æ–°
- âœ… Docker é•œåƒæ¨é€æˆåŠŸ
- âœ… è‡³å°‘ 4 ä¸ªå¹³å°çš„äºŒè¿›åˆ¶å¯ä¸‹è½½

### æ­£å¼å‘å¸ƒæˆåŠŸæ ‡å‡†

- âœ… æ‰€æœ‰ Beta æ ‡å‡†æ»¡è¶³
- âœ… æ‰€æœ‰ 8 ä¸ªæ¸ é“å¯ç”¨
- âœ… ç”¨æˆ·å¯ä»¥æˆåŠŸå®‰è£…å’Œä½¿ç”¨
- âœ… æ–‡æ¡£å®Œæ•´å‡†ç¡®
- âœ… å‘å¸ƒå…¬å‘Šå‘å¸ƒ

---

## ğŸ‰ æ€»ç»“

è™½ç„¶é¦–æ¬¡æµ‹è¯•å‘å¸ƒå¤±è´¥ï¼Œä½†æˆ‘ä»¬è·å¾—äº†å®è´µçš„ç»éªŒï¼š

### æˆå°±

- âœ… **éªŒè¯äº†æ ¸å¿ƒç³»ç»Ÿ** - è‡ªåŠ¨åŒ–æµç¨‹åŸºæœ¬å¯ç”¨
- âœ… **å¿«é€Ÿå®šä½é—®é¢˜** - 1åˆ†é’Ÿå†…è¯†åˆ«æ‰€æœ‰é—®é¢˜
- âœ… **ç«‹å³ä¿®å¤** - 30åˆ†é’Ÿå†…å®Œæˆæ‰€æœ‰ä¿®å¤
- âœ… **å®Œå–„æ–‡æ¡£** - åˆ›å»ºäº†å®Œæ•´çš„æŒ‡å¯¼æ–‡æ¡£
- âœ… **å‡†å¤‡å°±ç»ª** - å¯ä»¥è¿›è¡Œç¬¬äºŒæ¬¡æµ‹è¯•å‘å¸ƒ

### ä¸‹ä¸€æ­¥

**ç«‹å³æ‰§è¡Œ**ï¼ˆé¢„è®¡30åˆ†é’Ÿï¼‰:
1. è¿è¡Œ `./scripts/create-release-repos.sh` åˆ›å»ºä»“åº“
2. é…ç½® GitHub Secrets
3. åˆ é™¤å¤±è´¥çš„ tag
4. æ‰§è¡Œ `./scripts/release.sh 0.1.1-beta.2`

**é¢„æœŸç»“æœ**: æˆåŠŸå‘å¸ƒåˆ° 6-8 ä¸ªæ¸ é“ ğŸ¯

---

**æŠ¥å‘Šæ—¶é—´**: 2026-01-31
**çŠ¶æ€**: ä¿®å¤å®Œæˆï¼Œå‡†å¤‡ç¬¬äºŒæ¬¡æµ‹è¯•
**ä¿¡å¿ƒæŒ‡æ•°**: ğŸŸ¢ é«˜ï¼ˆ90% æˆåŠŸç‡ï¼‰

---

**ä¸‹ä¸€ä¸ªå‘½ä»¤**:

```bash
# åˆ›å»ºä»“åº“å¹¶é…ç½®ï¼ˆäº¤äº’å¼ï¼‰
./scripts/create-release-repos.sh

# ç„¶åæ‰§è¡Œç¬¬äºŒæ¬¡æµ‹è¯•å‘å¸ƒ
./scripts/release.sh 0.1.1-beta.2 "Fix build issues and test automated publishing"
```

**è®©æˆ‘ä»¬å¼€å§‹å§ï¼** ğŸš€
