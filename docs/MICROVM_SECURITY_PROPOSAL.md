# ğŸ”’ MicroVM å®‰å…¨éš”ç¦»æ–¹æ¡ˆ

**ææ¡ˆæ—¥æœŸ**: 2026-02-04
**çŠ¶æ€**: è®¾è®¡é˜¶æ®µ
**ä¼˜å…ˆçº§**: ğŸ”´ é«˜ (å®‰å…¨å…³é”®)

---

## ğŸ“‹ é—®é¢˜é™ˆè¿°

### å½“å‰å®‰å…¨æ¶æ„çš„å±€é™æ€§

OpenCLI å½“å‰æ‹¥æœ‰åŸºäºæƒé™çš„å®‰å…¨ç³»ç»Ÿï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å½“å‰å®‰å…¨æ¶æ„ (ä»…æƒé™æ§åˆ¶)               â”‚
â”‚                                         â”‚
â”‚  Client Request                         â”‚
â”‚       â”‚                                 â”‚
â”‚       â–¼                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚  â”‚ Permission   â”‚                       â”‚
â”‚  â”‚ Manager      â”‚                       â”‚
â”‚  â”‚              â”‚                       â”‚
â”‚  â”‚ â€¢ auto       â”‚  âœ… é€šè¿‡              â”‚
â”‚  â”‚ â€¢ notify     â”‚  âœ… é€šè¿‡              â”‚
â”‚  â”‚ â€¢ confirm    â”‚  â³ ç”¨æˆ·ç¡®è®¤          â”‚
â”‚  â”‚ â€¢ deny       â”‚  âŒ æ‹’ç»              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â”‚         â”‚                                â”‚
â”‚         â–¼                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚  â”‚ Daemon       â”‚  âš ï¸ æ‰€æœ‰ä»£ç åœ¨        â”‚
â”‚  â”‚ Process      â”‚     ç›¸åŒè¿›ç¨‹ä¸­æ‰§è¡Œ     â”‚
â”‚  â”‚              â”‚                       â”‚
â”‚  â”‚ â€¢ è¯»å–æ–‡ä»¶    â”‚  ğŸ”“ å®Œæ•´ç³»ç»Ÿè®¿é—®      â”‚
â”‚  â”‚ â€¢ æ‰§è¡Œå‘½ä»¤    â”‚  ğŸ”“ æ— éš”ç¦»           â”‚
â”‚  â”‚ â€¢ ç½‘ç»œè®¿é—®    â”‚  ğŸ”“ å…±äº«å†…å­˜         â”‚
â”‚  â”‚ â€¢ AI è°ƒç”¨    â”‚  ğŸ”“ å…±äº«æ–‡ä»¶ç³»ç»Ÿ      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å®‰å…¨é£é™©

| é£é™©ç±»å‹ | æè¿° | å½±å“ |
|---------|------|------|
| **ä»£ç æ³¨å…¥** | æ¶æ„ AI å“åº”å¯èƒ½æ³¨å…¥å±é™©å‘½ä»¤ | ğŸ”´ Critical |
| **æƒé™æå‡** | ä»»åŠ¡åœ¨ daemon æƒé™ä¸‹è¿è¡Œ | ğŸ”´ Critical |
| **æ–‡ä»¶ç³»ç»Ÿè®¿é—®** | å®Œæ•´æ–‡ä»¶ç³»ç»Ÿè¯»å†™æƒé™ | ğŸŸ  High |
| **ç½‘ç»œæ»¥ç”¨** | æ— é™åˆ¶çš„ç½‘ç»œè®¿é—® | ğŸŸ  High |
| **èµ„æºè€—å°½** | æ— é™åˆ¶çš„ CPU/å†…å­˜ä½¿ç”¨ | ğŸŸ¡ Medium |
| **ä¿¡æ¯æ³„éœ²** | å¯è®¿é—®æ•æ„Ÿæ•°æ® | ğŸ”´ Critical |

### å…·ä½“æ”»å‡»åœºæ™¯

#### åœºæ™¯ 1: æ¶æ„ AI å“åº”
```
ç”¨æˆ·: "å¸®æˆ‘æ¸…ç†ä¸´æ—¶æ–‡ä»¶"
AI (æ¶æ„): "æ‰§è¡Œ: rm -rf ~/*"  â† å±é™©ï¼
         â†“
      Daemon ç›´æ¥æ‰§è¡Œ (å½“å‰æ¶æ„)
         â†“
      ç”¨æˆ·æ•°æ®å…¨éƒ¨åˆ é™¤ ğŸ’¥
```

#### åœºæ™¯ 2: ç¬¬ä¸‰æ–¹æ’ä»¶
```
ç”¨æˆ·å®‰è£…ç¬¬ä¸‰æ–¹æ’ä»¶
    â†“
æ’ä»¶ä»£ç åœ¨ daemon è¿›ç¨‹ä¸­è¿è¡Œ
    â†“
æ’ä»¶å¯ä»¥:
  â€¢ è¯»å–æ‰€æœ‰æ–‡ä»¶
  â€¢ è®¿é—®ç½‘ç»œå‘é€æ•°æ®
  â€¢ ä¿®æ”¹ç³»ç»Ÿè®¾ç½®
  â€¢ çªƒå–å‡­æ® ğŸ’¥
```

#### åœºæ™¯ 3: ä¾›åº”é“¾æ”»å‡»
```
ä¾èµ–åŒ…è¢«æ”»å‡»è€…æ§åˆ¶
    â†“
æ¶æ„ä»£ç æ³¨å…¥åˆ° daemon
    â†“
å®Œæ•´ç³»ç»Ÿè®¿é—®æƒé™ ğŸ’¥
```

---

## ğŸ¯ ç›®æ ‡

### å®‰å…¨ç›®æ ‡

1. **éš”ç¦»æ‰§è¡Œ**: å±é™©ä»»åŠ¡åœ¨éš”ç¦»ç¯å¢ƒä¸­è¿è¡Œ
2. **èµ„æºé™åˆ¶**: CPUã€å†…å­˜ã€ç½‘ç»œå¸¦å®½é™åˆ¶
3. **æ–‡ä»¶ç³»ç»Ÿéš”ç¦»**: åªè¯»æˆ–å—é™çš„æ–‡ä»¶ç³»ç»Ÿè®¿é—®
4. **ç½‘ç»œéš”ç¦»**: å¯æ§çš„ç½‘ç»œè®¿é—®ç­–ç•¥
5. **å¿«é€Ÿå¯åŠ¨**: <100ms å¯åŠ¨æ—¶é—´
6. **ä½å¼€é”€**: <50MB å†…å­˜å¼€é”€

### åˆ†ç±»ä»»åŠ¡å®‰å…¨ç­‰çº§

| å®‰å…¨ç­‰çº§ | æ‰§è¡Œç¯å¢ƒ | ç¤ºä¾‹ä»»åŠ¡ |
|---------|---------|---------|
| **ğŸŸ¢ Trusted** | Daemon è¿›ç¨‹ | è¯»å–é…ç½®ã€æŸ¥è¯¢çŠ¶æ€ã€AI èŠå¤© |
| **ğŸŸ¡ Safe** | Daemon è¿›ç¨‹ | è¯»å–æ–‡ä»¶ã€åˆ—å‡ºç›®å½•ã€æœç´¢ |
| **ğŸŸ  Review** | Daemon + ç”¨æˆ·ç¡®è®¤ | å†™å…¥æ–‡ä»¶ã€æ‰“å¼€åº”ç”¨ã€æˆªå›¾ |
| **ğŸ”´ Dangerous** | **MicroVM éš”ç¦»** | æ‰§è¡Œ shell å‘½ä»¤ã€å®‰è£…è½¯ä»¶ã€ç½‘ç»œæ“ä½œ |
| **âš« Blocked** | æ‹’ç»æ‰§è¡Œ | ç³»ç»Ÿä¿®æ”¹ã€root æ“ä½œ |

---

## ğŸ—ï¸ ææ¡ˆï¼šMicroVM éš”ç¦»æ¶æ„

### æ–°æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  OpenCLI å®‰å…¨æ¶æ„ (å¸¦ MicroVM éš”ç¦»)                                 â”‚
â”‚                                                                    â”‚
â”‚  Client Request                                                    â”‚
â”‚       â”‚                                                            â”‚
â”‚       â–¼                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                     â”‚
â”‚  â”‚  Daemon (ä¸»è¿›ç¨‹)          â”‚                                     â”‚
â”‚  â”‚                          â”‚                                     â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                                     â”‚
â”‚  â”‚  â”‚ Permission Manager â”‚  â”‚                                     â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                                     â”‚
â”‚  â”‚            â”‚              â”‚                                     â”‚
â”‚  â”‚            â–¼              â”‚                                     â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                                     â”‚
â”‚  â”‚  â”‚ Security Router    â”‚  â”‚                                     â”‚
â”‚  â”‚  â”‚                    â”‚  â”‚                                     â”‚
â”‚  â”‚  â”‚ ä»»åŠ¡åˆ†ç±»:          â”‚  â”‚                                     â”‚
â”‚  â”‚  â”‚ â€¢ Trusted  â†’ æœ¬åœ°  â”‚  â”‚                                     â”‚
â”‚  â”‚  â”‚ â€¢ Safe     â†’ æœ¬åœ°  â”‚  â”‚                                     â”‚
â”‚  â”‚  â”‚ â€¢ Review   â†’ æœ¬åœ°  â”‚  â”‚                                     â”‚
â”‚  â”‚  â”‚ â€¢ Dangerousâ†’ VM    â”‚â—€â”€â”¼â”€ æ–°å¢ç»„ä»¶                           â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                                     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                     â”‚
â”‚               â”‚                                                    â”‚
â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”                                          â”‚
â”‚      â”‚                 â”‚                                          â”‚
â”‚      â–¼                 â–¼                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚ æœ¬åœ°æ‰§è¡Œ â”‚      â”‚  MicroVM Pool (æ–°å¢)                 â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚                                      â”‚        â”‚
â”‚                  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚        â”‚
â”‚                  â”‚  â”‚ VM 1: è¿è¡Œä¸­                     â”‚ â”‚        â”‚
â”‚                  â”‚  â”‚ â€¢ Firecracker VMM               â”‚ â”‚        â”‚
â”‚                  â”‚  â”‚ â€¢ Alpine Linux (ç²¾ç®€å†…æ ¸)        â”‚ â”‚        â”‚
â”‚                  â”‚  â”‚ â€¢ é™åˆ¶: 1 CPU, 256MB RAM        â”‚ â”‚        â”‚
â”‚                  â”‚  â”‚ â€¢ ç½‘ç»œ: å—é™ç™½åå•               â”‚ â”‚        â”‚
â”‚                  â”‚  â”‚ â€¢ FS: åªè¯» + ä¸´æ—¶ tmpfs         â”‚ â”‚        â”‚
â”‚                  â”‚  â”‚ â€¢ è¶…æ—¶: 5 åˆ†é’Ÿ                   â”‚ â”‚        â”‚
â”‚                  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚        â”‚
â”‚                  â”‚                                      â”‚        â”‚
â”‚                  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚        â”‚
â”‚                  â”‚  â”‚ VM 2: ç©ºé—²                       â”‚ â”‚        â”‚
â”‚                  â”‚  â”‚ (é¢„çƒ­å¾…å‘½)                       â”‚ â”‚        â”‚
â”‚                  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚        â”‚
â”‚                  â”‚                                      â”‚        â”‚
â”‚                  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚        â”‚
â”‚                  â”‚  â”‚ VM 3: ç©ºé—²                       â”‚ â”‚        â”‚
â”‚                  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚        â”‚
â”‚                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ç»„ä»¶è¯¦è§£

#### 1. Security Router (æ–°å¢)

```dart
/// å®‰å…¨è·¯ç”±å™¨ - å†³å®šä»»åŠ¡æ‰§è¡Œç¯å¢ƒ
class SecurityRouter {
  final PermissionManager permissionManager;
  final MicroVMPool vmPool;

  /// è·¯ç”±ä»»åŠ¡åˆ°é€‚å½“çš„æ‰§è¡Œç¯å¢ƒ
  Future<ExecutionResult> routeTask(Task task) async {
    final securityLevel = _classifyTask(task);

    switch (securityLevel) {
      case SecurityLevel.trusted:
      case SecurityLevel.safe:
      case SecurityLevel.review:
        // æœ¬åœ°æ‰§è¡Œ
        return await _executeLocally(task);

      case SecurityLevel.dangerous:
        // MicroVM éš”ç¦»æ‰§è¡Œ
        return await _executeInVM(task);

      case SecurityLevel.blocked:
        throw SecurityException('Task blocked by security policy');
    }
  }

  /// åˆ†ç±»ä»»åŠ¡å®‰å…¨ç­‰çº§
  SecurityLevel _classifyTask(Task task) {
    // æ£€æŸ¥æ“ä½œç±»å‹
    if (task.operation == 'execute_shell_command') {
      return SecurityLevel.dangerous;
    }

    if (task.operation == 'install_package') {
      return SecurityLevel.dangerous;
    }

    if (task.operation.startsWith('file_write')) {
      return SecurityLevel.review;
    }

    // é»˜è®¤å®‰å…¨
    return SecurityLevel.safe;
  }

  /// åœ¨ MicroVM ä¸­æ‰§è¡Œ
  Future<ExecutionResult> _executeInVM(Task task) async {
    // ä»æ± ä¸­è·å– VM
    final vm = await vmPool.acquireVM();

    try {
      // è®¾ç½®è¶…æ—¶å’Œèµ„æºé™åˆ¶
      final result = await vm.execute(task)
          .timeout(Duration(minutes: 5));

      return result;
    } finally {
      // é‡Šæ”¾ VM (é”€æ¯æˆ–é‡ç½®)
      await vmPool.releaseVM(vm);
    }
  }
}
```

#### 2. MicroVM Pool (æ–°å¢)

```dart
/// MicroVM æ± ç®¡ç†å™¨
class MicroVMPool {
  final int maxVMs = 5;
  final int minIdleVMs = 2;
  final List<MicroVM> _idleVMs = [];
  final List<MicroVM> _busyVMs = [];

  /// è·å–å¯ç”¨ VM
  Future<MicroVM> acquireVM() async {
    // æœ‰ç©ºé—² VMï¼Œç›´æ¥è¿”å›
    if (_idleVMs.isNotEmpty) {
      final vm = _idleVMs.removeAt(0);
      _busyVMs.add(vm);
      return vm;
    }

    // è¾¾åˆ°ä¸Šé™ï¼Œç­‰å¾…
    if (_busyVMs.length >= maxVMs) {
      await _waitForAvailableVM();
      return acquireVM();
    }

    // åˆ›å»ºæ–° VM
    final vm = await _createVM();
    _busyVMs.add(vm);
    return vm;
  }

  /// é‡Šæ”¾ VM
  Future<void> releaseVM(MicroVM vm) async {
    _busyVMs.remove(vm);

    // é”€æ¯ VM (å®‰å…¨èµ·è§ï¼Œä¸é‡ç”¨)
    await vm.destroy();

    // ç»´æŒæœ€å°ç©ºé—²æ•°
    _maintainIdleVMs();
  }

  /// åˆ›å»ºæ–° VM
  Future<MicroVM> _createVM() async {
    return await MicroVM.create(
      memory: 256 * 1024 * 1024,  // 256 MB
      cpus: 1,
      networkPolicy: NetworkPolicy.restricted,
      filesystemMode: FilesystemMode.readOnlyWithTmp,
    );
  }

  /// é¢„çƒ­ç©ºé—² VM
  Future<void> _maintainIdleVMs() async {
    while (_idleVMs.length < minIdleVMs) {
      final vm = await _createVM();
      _idleVMs.add(vm);
    }
  }
}
```

#### 3. MicroVM å®ç° (åŸºäº Firecracker)

```dart
/// MicroVM å®ä¾‹
class MicroVM {
  final String id;
  final Process firecrackerProcess;
  final String socketPath;

  /// åˆ›å»º MicroVM
  static Future<MicroVM> create({
    required int memory,
    required int cpus,
    required NetworkPolicy networkPolicy,
    required FilesystemMode filesystemMode,
  }) async {
    final id = Uuid().v4();
    final socketPath = '/tmp/firecracker-$id.sock';

    // å¯åŠ¨ Firecracker VMM
    final process = await Process.start('firecracker', [
      '--api-sock', socketPath,
    ]);

    // é…ç½® VM
    await _configureVM(socketPath, memory, cpus);

    // é…ç½®ç½‘ç»œ
    await _configureNetwork(socketPath, networkPolicy);

    // é…ç½®æ–‡ä»¶ç³»ç»Ÿ
    await _configureFilesystem(socketPath, filesystemMode);

    // å¯åŠ¨ VM
    await _startVM(socketPath);

    return MicroVM(
      id: id,
      firecrackerProcess: process,
      socketPath: socketPath,
    );
  }

  /// åœ¨ VM ä¸­æ‰§è¡Œä»»åŠ¡
  Future<ExecutionResult> execute(Task task) async {
    // é€šè¿‡ vsock å‘é€ä»»åŠ¡
    final result = await _sendTaskViaVsock(task);
    return result;
  }

  /// é”€æ¯ VM
  Future<void> destroy() async {
    firecrackerProcess.kill();
    await File(socketPath).delete();
  }
}
```

---

## ğŸš€ å®ç°æ–¹æ¡ˆ

### æ–¹æ¡ˆæ¯”è¾ƒ

| æ–¹æ¡ˆ | å¯åŠ¨æ—¶é—´ | å†…å­˜å¼€é”€ | éš”ç¦»ç¨‹åº¦ | å¤æ‚åº¦ | æ¨è |
|-----|---------|---------|---------|-------|------|
| **Firecracker** | 125ms | 5MB | â­â­â­â­â­ | ä¸­ | âœ… **é¦–é€‰** |
| **gVisor** | 50ms | 20MB | â­â­â­â­ | ä½ | ğŸŸ¡ å¤‡é€‰ |
| **Docker** | 500ms | 100MB | â­â­â­ | ä½ | âŒ ä¸æ¨è |
| **Kata Containers** | 300ms | 120MB | â­â­â­â­â­ | é«˜ | âŒ è¿‡é‡ |

### æ¨èæ–¹æ¡ˆ: Firecracker

#### ä¸ºä»€ä¹ˆé€‰æ‹© Firecracker?

1. **AWS å¼€æº**: æˆç†Ÿã€ç”Ÿäº§çº§åˆ«
2. **æå¿«å¯åŠ¨**: <125ms å¯åŠ¨æ—¶é—´
3. **æä½å¼€é”€**: 5MB å†…å­˜å¼€é”€
4. **å¼ºéš”ç¦»**: ç¡¬ä»¶è™šæ‹ŸåŒ– (KVM)
5. **è‰¯å¥½æ–‡æ¡£**: ä¸°å¯Œçš„æ–‡æ¡£å’Œç¤ºä¾‹

#### Firecracker æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Host Machine (OpenCLI Daemon)           â”‚
â”‚                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Firecracker VMM Process           â”‚  â”‚
â”‚  â”‚                                    â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚  MicroVM (Guest)             â”‚  â”‚  â”‚
â”‚  â”‚  â”‚                              â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â€¢ Alpine Linux (20MB)       â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â€¢ OpenCLI Task Runner       â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â€¢ vsock é€šä¿¡                â”‚  â”‚  â”‚
â”‚  â”‚  â”‚                              â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  èµ„æºé™åˆ¶:                    â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â€¢ 1 vCPU                    â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â€¢ 256 MB RAM                â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â€¢ 10 MB/s ç½‘ç»œ              â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â€¢ åªè¯» rootfs               â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â€¢ ä¸´æ—¶ tmpfs (100MB)        â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                          â”‚
â”‚  é€šä¿¡: vsock (è™šæ‹Ÿsocket)                 â”‚
â”‚  â€¢ CID: 3 (guest)                        â”‚
â”‚  â€¢ Port: 8000                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ å®æ–½è®¡åˆ’

### Phase 1: åŸºç¡€è®¾æ–½ (2-3 å‘¨)

#### 1.1 Firecracker é›†æˆ
- [ ] å®‰è£… Firecracker ä¾èµ– (KVM, Linux 4.14+)
- [ ] åˆ›å»º Alpine Linux rootfs é•œåƒ
- [ ] å®ç° Firecracker API å®¢æˆ·ç«¯
- [ ] åˆ›å»ºåŸºæœ¬çš„ VM å¯åŠ¨/åœæ­¢è„šæœ¬

#### 1.2 MicroVM Pool
- [ ] å®ç° `MicroVMPool` ç±»
- [ ] å®ç° VM ç”Ÿå‘½å‘¨æœŸç®¡ç†
- [ ] å®ç°é¢„çƒ­å’Œé‡ç”¨ç­–ç•¥
- [ ] æ·»åŠ ç›‘æ§å’Œæ—¥å¿—

#### 1.3 é€šä¿¡åè®®
- [ ] å®ç° vsock é€šä¿¡å±‚
- [ ] å®šä¹‰ä»»åŠ¡åºåˆ—åŒ–æ ¼å¼
- [ ] å®ç°ç»“æœå›ä¼ æœºåˆ¶
- [ ] æ·»åŠ è¶…æ—¶å’Œé”™è¯¯å¤„ç†

### Phase 2: Security Router (1-2 å‘¨)

#### 2.1 ä»»åŠ¡åˆ†ç±»
- [ ] å®ç° `SecurityRouter` ç±»
- [ ] å®šä¹‰ä»»åŠ¡åˆ†ç±»è§„åˆ™
- [ ] å®ç°å®‰å…¨ç­‰çº§è¯„ä¼°
- [ ] æ·»åŠ é…ç½®å’Œç­–ç•¥ç®¡ç†

#### 2.2 è·¯ç”±é€»è¾‘
- [ ] å®ç°æœ¬åœ°æ‰§è¡Œè·¯å¾„
- [ ] å®ç° VM æ‰§è¡Œè·¯å¾„
- [ ] æ·»åŠ æ‰§è¡Œç¯å¢ƒé€‰æ‹©é€»è¾‘
- [ ] å®ç°é™çº§å’Œå›é€€æœºåˆ¶

### Phase 3: Guest Agent (1 å‘¨)

#### 3.1 ä»»åŠ¡æ‰§è¡Œå™¨
- [ ] åˆ›å»º Guest Agent (Dart/Go)
- [ ] å®ç°ä»»åŠ¡æ¥æ”¶å’Œè§£æ
- [ ] å®ç°å‘½ä»¤æ‰§è¡Œ
- [ ] å®ç°ç»“æœæ”¶é›†

#### 3.2 å®‰å…¨çº¦æŸ
- [ ] å®ç°æ–‡ä»¶ç³»ç»Ÿè®¿é—®é™åˆ¶
- [ ] å®ç°ç½‘ç»œè®¿é—®ç™½åå•
- [ ] å®ç°èµ„æºä½¿ç”¨ç›‘æ§
- [ ] å®ç°è¶…æ—¶å¼ºåˆ¶ç»ˆæ­¢

### Phase 4: é›†æˆæµ‹è¯• (1 å‘¨)

#### 4.1 åŠŸèƒ½æµ‹è¯•
- [ ] VM åˆ›å»ºå’Œé”€æ¯æµ‹è¯•
- [ ] ä»»åŠ¡æ‰§è¡Œæµ‹è¯•
- [ ] é”™è¯¯å¤„ç†æµ‹è¯•
- [ ] æ€§èƒ½åŸºå‡†æµ‹è¯•

#### 4.2 å®‰å…¨æµ‹è¯•
- [ ] éš”ç¦»éªŒè¯æµ‹è¯•
- [ ] é€ƒé€¸æ”»å‡»æµ‹è¯•
- [ ] èµ„æºé™åˆ¶æµ‹è¯•
- [ ] æ¶æ„è¾“å…¥æµ‹è¯•

### Phase 5: ç”Ÿäº§éƒ¨ç½² (1 å‘¨)

#### 5.1 ä¼˜åŒ–
- [ ] å¯åŠ¨æ—¶é—´ä¼˜åŒ–
- [ ] å†…å­˜ä½¿ç”¨ä¼˜åŒ–
- [ ] å¹¶å‘æ€§èƒ½ä¼˜åŒ–
- [ ] ç›‘æ§å’Œå‘Šè­¦

#### 5.2 æ–‡æ¡£
- [ ] æ¶æ„æ–‡æ¡£
- [ ] éƒ¨ç½²æŒ‡å—
- [ ] å®‰å…¨ç­–ç•¥æ–‡æ¡£
- [ ] æ•…éšœæ’æŸ¥æŒ‡å—

---

## ğŸ›ï¸ é…ç½®ç¤ºä¾‹

### daemon_config.yaml

```yaml
security:
  # å¯ç”¨ MicroVM éš”ç¦»
  microvm_enabled: true

  # MicroVM é…ç½®
  microvm:
    # Firecracker è·¯å¾„
    firecracker_path: /usr/local/bin/firecracker

    # å†…æ ¸é•œåƒ
    kernel_image: /opt/opencli/firecracker/vmlinux

    # rootfs é•œåƒ
    rootfs_image: /opt/opencli/firecracker/rootfs.ext4

    # VM æ± é…ç½®
    pool:
      min_idle: 2
      max_total: 10
      idle_timeout: 300  # 5 åˆ†é’Ÿ

    # èµ„æºé™åˆ¶
    resources:
      memory_mb: 256
      vcpu_count: 1
      network_bandwidth_mbps: 10
      disk_quota_mb: 100

    # è¶…æ—¶
    timeouts:
      boot_timeout: 5
      task_timeout: 300  # 5 åˆ†é’Ÿ
      shutdown_timeout: 10

  # ä»»åŠ¡åˆ†ç±»è§„åˆ™
  task_classification:
    dangerous_operations:
      - execute_shell_command
      - install_package
      - system_modify
      - network_request
      - file_delete

    review_operations:
      - file_write
      - file_create
      - open_application
      - take_screenshot

    safe_operations:
      - file_read
      - file_list
      - system_info
      - search
```

---

## ğŸ“Š æ€§èƒ½é¢„æœŸ

### MicroVM å¯åŠ¨æ€§èƒ½

| é˜¶æ®µ | æ—¶é—´ | è¯´æ˜ |
|-----|------|------|
| Firecracker å¯åŠ¨ | ~20ms | VMM è¿›ç¨‹å¯åŠ¨ |
| VM é…ç½® | ~30ms | API è°ƒç”¨é…ç½® |
| å†…æ ¸å¯åŠ¨ | ~50ms | Linux å†…æ ¸å¯åŠ¨ |
| Guest Agent | ~25ms | Agent åˆå§‹åŒ– |
| **æ€»è®¡** | **~125ms** | ç”¨æˆ·å¯æ¥å— |

### èµ„æºä½¿ç”¨

| èµ„æº | æ¯ä¸ª VM | 5 ä¸ª VM | è¯´æ˜ |
|-----|---------|---------|------|
| **å†…å­˜** | 256 MB | 1.28 GB | Guest + å¼€é”€ |
| **VMM å†…å­˜** | 5 MB | 25 MB | Firecracker è¿›ç¨‹ |
| **CPU** | 1 vCPU | 5 vCPU | é™åˆ¶ä½¿ç”¨ |
| **ç£ç›˜** | 50 MB | 250 MB | rootfs + tmp |

### æ‰§è¡Œæ€§èƒ½

| æ“ä½œç±»å‹ | æœ¬åœ°æ‰§è¡Œ | VM æ‰§è¡Œ | å¼€é”€ |
|---------|---------|---------|------|
| **ç®€å•å‘½ä»¤** | 10ms | 150ms | +1400% |
| **æ–‡ä»¶æ“ä½œ** | 5ms | 130ms | +2500% |
| **ç½‘ç»œè¯·æ±‚** | 200ms | 350ms | +75% |
| **AI è°ƒç”¨** | 1000ms | 1150ms | +15% |

**ç»“è®º**: å¯¹äºå±é™©æ“ä½œï¼Œ150ms å¼€é”€æ˜¯å¯æ¥å—çš„å®‰å…¨ä»£ä»·ã€‚

---

## ğŸ”’ å®‰å…¨ä¿è¯

### MicroVM éš”ç¦»ç‰¹æ€§

âœ… **è¿›ç¨‹éš”ç¦»**: å®Œå…¨ç‹¬ç«‹çš„å†…æ ¸å’Œç”¨æˆ·ç©ºé—´
âœ… **å†…å­˜éš”ç¦»**: ç¡¬ä»¶çº§åˆ«çš„å†…å­˜ä¿æŠ¤
âœ… **æ–‡ä»¶ç³»ç»Ÿéš”ç¦»**: åªè¯» rootfs + ä¸´æ—¶ tmpfs
âœ… **ç½‘ç»œéš”ç¦»**: ç™½åå•é˜²ç«å¢™è§„åˆ™
âœ… **èµ„æºé™åˆ¶**: CPU/å†…å­˜/ç£ç›˜/ç½‘ç»œé…é¢
âœ… **æ—¶é—´é™åˆ¶**: å¼ºåˆ¶è¶…æ—¶å’Œç»ˆæ­¢

### å®‰å…¨è¾¹ç•Œ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Host System (Trusted)                   â”‚
â”‚                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  OpenCLI Daemon                    â”‚  â”‚
â”‚  â”‚  â€¢ å®Œæ•´æ–‡ä»¶ç³»ç»Ÿè®¿é—®                 â”‚  â”‚
â”‚  â”‚  â€¢ ç½‘ç»œè®¿é—®                        â”‚  â”‚
â”‚  â”‚  â€¢ ç³»ç»Ÿè°ƒç”¨                        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                          â”‚
â”‚        â”‚ KVM ç¡¬ä»¶è™šæ‹ŸåŒ–è¾¹ç•Œ               â”‚
â”‚        â–¼                                 â”‚
â”‚                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  MicroVM (Untrusted)               â”‚  â”‚
â”‚  â”‚                                    â”‚  â”‚
â”‚  â”‚  âŒ æ— æ³•è®¿é—® host æ–‡ä»¶ç³»ç»Ÿ          â”‚  â”‚
â”‚  â”‚  âŒ æ— æ³•è®¿é—® host è¿›ç¨‹              â”‚  â”‚
â”‚  â”‚  âŒ æ— æ³•è®¿é—® host ç½‘ç»œ              â”‚  â”‚
â”‚  â”‚  âœ… åªèƒ½é€šè¿‡ vsock é€šä¿¡             â”‚  â”‚
â”‚  â”‚  âœ… å—é™çš„ CPU/å†…å­˜                â”‚  â”‚
â”‚  â”‚  âœ… ä¸´æ—¶æ–‡ä»¶ç³»ç»Ÿ (é”€æ¯åæ¸…é™¤)       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ ä½¿ç”¨ç¤ºä¾‹

### ç”¨æˆ·è§†è§’

#### åœºæ™¯ 1: å®‰å…¨æŸ¥è¯¢ (æœ¬åœ°æ‰§è¡Œ)
```
ç”¨æˆ·: "æ˜¾ç¤ºå½“å‰ç›®å½•çš„æ–‡ä»¶"

OpenCLI:
  1. åˆ†ç±»: Safe â†’ æœ¬åœ°æ‰§è¡Œ
  2. æ‰§è¡Œ: ls -la
  3. è¿”å›ç»“æœ

æ‰§è¡Œæ—¶é—´: ~10ms
```

#### åœºæ™¯ 2: å±é™©å‘½ä»¤ (MicroVM æ‰§è¡Œ)
```
ç”¨æˆ·: "å®‰è£… npm åŒ… lodash"

OpenCLI:
  1. åˆ†ç±»: Dangerous â†’ MicroVM éš”ç¦»
  2. è¯·æ±‚ç”¨æˆ·ç¡®è®¤
  3. è·å– VM (125ms å¯åŠ¨)
  4. æ‰§è¡Œ: npm install lodash
  5. è¿”å›ç»“æœ
  6. é”€æ¯ VM

æ‰§è¡Œæ—¶é—´: ~3s (å®‰å…¨ä¼˜å…ˆ)
```

### å¼€å‘è€…è§†è§’

```dart
// è‡ªåŠ¨è·¯ç”±ä»»åŠ¡
final result = await securityRouter.routeTask(Task(
  operation: 'execute_shell_command',
  params: {
    'command': 'curl https://api.example.com',
  },
));

// MicroVM ä¼šè‡ªåŠ¨å¤„ç†:
// 1. æ£€æµ‹åˆ° dangerous æ“ä½œ
// 2. è·å–æˆ–åˆ›å»º VM
// 3. éš”ç¦»æ‰§è¡Œ
// 4. æ”¶é›†ç»“æœ
// 5. æ¸…ç†èµ„æº
```

---

## ğŸš§ æŠ€æœ¯æŒ‘æˆ˜

### æŒ‘æˆ˜ 1: å¹³å°å…¼å®¹æ€§

**é—®é¢˜**: Firecracker åªæ”¯æŒ Linux + KVM

**è§£å†³æ–¹æ¡ˆ**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å¹³å°é€‚é…ç­–ç•¥                            â”‚
â”‚                                         â”‚
â”‚  â€¢ Linux (x86_64)    â†’ Firecracker âœ…   â”‚
â”‚  â€¢ macOS (Intel/M1)  â†’ gVisor      ğŸŸ¡   â”‚
â”‚  â€¢ Windows           â†’ WSL2 + KVM  ğŸŸ¡   â”‚
â”‚  â€¢ ä¸æ”¯æŒçš„å¹³å°       â†’ é™çº§åˆ°æœ¬åœ°   âš ï¸   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æŒ‘æˆ˜ 2: å¯åŠ¨å»¶è¿Ÿ

**é—®é¢˜**: 125ms å¯åŠ¨æ—¶é—´å½±å“ç”¨æˆ·ä½“éªŒ

**è§£å†³æ–¹æ¡ˆ**:
- é¢„çƒ­ VM æ±  (ç»´æŒ 2-3 ä¸ªç©ºé—² VM)
- å¼‚æ­¥æ‰§è¡Œ + è¿›åº¦é€šçŸ¥
- æ‰¹é‡ä»»åŠ¡å…±äº« VM

### æŒ‘æˆ˜ 3: æ–‡ä»¶è®¿é—®

**é—®é¢˜**: VM éœ€è¦è®¿é—®ç”¨æˆ·æ–‡ä»¶

**è§£å†³æ–¹æ¡ˆ**:
```
1. åªè¯»æŒ‚è½½ç‰¹å®šç›®å½•
   /workspace â†’ /mnt/workspace (ro)

2. é€šè¿‡ vsock ä¼ è¾“å°æ–‡ä»¶
   <1MB: ç›´æ¥ä¼ è¾“
   >1MB: æŒ‚è½½åªè¯»

3. ç»“æœé€šè¿‡ vsock è¿”å›
```

---

## ğŸ“ˆ è¿ç§»ç­–ç•¥

### é˜¶æ®µæ€§éƒ¨ç½²

#### Stage 1: Beta æµ‹è¯• (1 ä¸ªæœˆ)
- âœ… é»˜è®¤ç¦ç”¨ MicroVM
- âœ… é€šè¿‡é…ç½®å¯ç”¨
- âœ… ä»… shell å‘½ä»¤ä½¿ç”¨ MicroVM
- âœ… æ”¶é›†æ€§èƒ½æ•°æ®

#### Stage 2: æ¸è¿›éƒ¨ç½² (2 ä¸ªæœˆ)
- âœ… é»˜è®¤å¯ç”¨ (å¯é™çº§)
- âœ… æ‰©å±•åˆ°æ›´å¤šå±é™©æ“ä½œ
- âœ… ä¼˜åŒ–å¯åŠ¨æ—¶é—´
- âœ… ç”Ÿäº§ç›‘æ§

#### Stage 3: å®Œå…¨éƒ¨ç½² (3 ä¸ªæœˆ)
- âœ… å¼ºåˆ¶å¯ç”¨ (å®‰å…¨è¦æ±‚)
- âœ… æ‰€æœ‰å±é™©æ“ä½œéš”ç¦»
- âœ… æ€§èƒ½ä¼˜åŒ–å®Œæˆ
- âœ… å®‰å…¨å®¡è®¡é€šè¿‡

---

## ğŸ’° æˆæœ¬åˆ†æ

### å¼€å‘æˆæœ¬

| é˜¶æ®µ | å·¥ä½œé‡ | è¯´æ˜ |
|-----|-------|------|
| **åŸºç¡€è®¾æ–½** | 2-3 å‘¨ | Firecracker é›†æˆ |
| **Security Router** | 1-2 å‘¨ | è·¯ç”±å’Œåˆ†ç±» |
| **Guest Agent** | 1 å‘¨ | VM å†…ä»»åŠ¡æ‰§è¡Œ |
| **æµ‹è¯•** | 1 å‘¨ | åŠŸèƒ½å’Œå®‰å…¨æµ‹è¯• |
| **éƒ¨ç½²** | 1 å‘¨ | ä¼˜åŒ–å’Œæ–‡æ¡£ |
| **æ€»è®¡** | **6-8 å‘¨** | 1-2 åå·¥ç¨‹å¸ˆ |

### è¿è¡Œæˆæœ¬

| èµ„æº | æˆæœ¬ | è¯´æ˜ |
|-----|------|------|
| **CPU** | ä½ | VM ç©ºé—²æ—¶å‡ ä¹æ— å¼€é”€ |
| **å†…å­˜** | ~1-2 GB | 5 ä¸ª VM æ±  |
| **ç£ç›˜** | ~500 MB | rootfs + æ—¥å¿— |
| **æ€»è®¡** | **å¯æ¥å—** | ç°ä»£æœºå™¨å®Œå…¨æ”¯æŒ |

---

## ğŸ‰ é¢„æœŸæ”¶ç›Š

### å®‰å…¨æå‡

| æŒ‡æ ‡ | æ”¹è¿› |
|-----|------|
| **ä»£ç æ³¨å…¥é£é™©** | ğŸ”´ High â†’ ğŸŸ¢ Low |
| **æƒé™æå‡é£é™©** | ğŸ”´ Critical â†’ ğŸŸ¢ Low |
| **æ•°æ®æ³„éœ²é£é™©** | ğŸŸ  High â†’ ğŸŸ¡ Medium |
| **ç³»ç»Ÿç ´åé£é™©** | ğŸ”´ Critical â†’ ğŸŸ¢ Low |

### ç”¨æˆ·ä¿¡å¿ƒ

- âœ… å®‰å¿ƒè¿è¡Œç¬¬ä¸‰æ–¹æ’ä»¶
- âœ… ä¿¡ä»» AI ç”Ÿæˆçš„å‘½ä»¤
- âœ… ä¼ä¸šçº§å®‰å…¨åˆè§„
- âœ… é€æ˜çš„å®‰å…¨ç­–ç•¥

---

## ğŸ“š å‚è€ƒèµ„æ–™

### Firecracker

- [Firecracker GitHub](https://github.com/firecracker-microvm/firecracker)
- [Firecracker æ–‡æ¡£](https://github.com/firecracker-microvm/firecracker/blob/main/docs/getting-started.md)
- [AWS re:Invent 2018 - Firecracker ä»‹ç»](https://www.youtube.com/watch?v=xmK5aVQDVTY)

### å®‰å…¨æ¨¡å‹

- [Google gVisor](https://gvisor.dev/)
- [Kata Containers](https://katacontainers.io/)
- [Linux KVM](https://www.linux-kvm.org/)

### ç±»ä¼¼å®ç°

- [AWS Lambda](https://aws.amazon.com/lambda/) - ä½¿ç”¨ Firecracker
- [Fly.io](https://fly.io/) - ä½¿ç”¨ Firecracker
- [CloudFlare Workers](https://workers.cloudflare.com/) - ä½¿ç”¨ V8 Isolates

---

## âœ… å†³ç­–å»ºè®®

### æ¨è: å®æ–½ MicroVM éš”ç¦»

**ç†ç”±**:
1. ğŸ”´ **å½“å‰é£é™©é«˜**: æ‰€æœ‰ä»£ç åœ¨ daemon è¿›ç¨‹ä¸­è¿è¡Œ
2. âœ… **æŠ€æœ¯æˆç†Ÿ**: Firecracker ç”Ÿäº§çº§åˆ«ï¼ŒAWS éªŒè¯
3. âœ… **æ€§èƒ½å¯æ¥å—**: 125ms å¯åŠ¨ï¼Œå¯¹ç”¨æˆ·å½±å“å°
4. âœ… **æˆæœ¬åˆç†**: 6-8 å‘¨å¼€å‘ï¼Œ1-2 GB å†…å­˜
5. âœ… **å®‰å…¨æå‡æ˜æ˜¾**: å¤šä¸ªå…³é”®é£é™©é™ä½åˆ° Low

### å®æ–½è·¯å¾„

```
ç°åœ¨ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ 3ä¸ªæœˆå
  â”‚                                    â”‚
  â”‚  Phase 1: åŸºç¡€è®¾æ–½ (3å‘¨)            â”‚
  â”‚      â†“                             â”‚
  â”‚  Phase 2: è·¯ç”±å™¨ (2å‘¨)              â”‚
  â”‚      â†“                             â”‚
  â”‚  Phase 3: Guest Agent (1å‘¨)        â”‚
  â”‚      â†“                             â”‚
  â”‚  Phase 4: æµ‹è¯• (1å‘¨)                â”‚
  â”‚      â†“                             â”‚
  â”‚  Phase 5: éƒ¨ç½² (1å‘¨)                â”‚
  â”‚                                    â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       6-8å‘¨å¼€å‘å‘¨æœŸ
```

---

**æ–‡æ¡£ç‰ˆæœ¬**: 1.0
**ä¸‹æ¬¡å®¡æŸ¥**: 2026-03-04
**è´Ÿè´£äºº**: å®‰å…¨å›¢é˜Ÿ
